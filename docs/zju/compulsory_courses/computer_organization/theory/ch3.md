# 3 Arithmetic for Computers

!!! tip "说明"

    此文档正在更新中……

!!! tip "说明"

    1. 部分内容由 AI 翻译课本原文，可能存在错误
    2. 只使用数字标号的例题来自于课本课后习题

## 3.2 Addition and Subtraction

### 无符号减法

$M - N$

1. M大于等于N（没产生借位）：正常输出
2. M小于N（产生借位）：取补码，再加负号

### 利用补码的无符号减法

$M - N$

转化为 M + N的补码
1. M大于等于N（产生进位）：去除进位即为答案
2. M小于N（没产生进位）：取补码，再加负号

### sign-magnitude 计算

$M +/- N$ 无论加减法都适用

三个符号：M的符号，N的符号，运算符号（+为1，-为0）

1. 如果三个符号异或为0：
    1. 数值部分相加即可
    2. 检查是否有溢出（是否产生进位）
    3. 结果符号与M的符号相同
2. 如果三个符号异或为1：
    1. 数值部分相减（第一个减第二个）
    2. 检查是否产生borrow位：
          1. 若没有：即为结果，符号与M的符号相同
          2. 若有：结果取补码，符号与M的符号相反
    3. 不可能产生溢出

### 2's complement 计算

1. 加法：
    1. 正常算，抛弃产生的进位
    2. 如果两个运算数的符号相同且结果的符号也相同，说明没产生溢出
    3. 如果两个运算数的符号相同且结果的符号不相同，说明产生了溢出
    4. 如果两个运算数的符号不同，不可能产生溢出
2. 减法：取第二个数的补码，第一个数加第二个数的补码转换为加法

???+ example "3.5"

    What is 4365 − 3412 when these values represent signed 12-bit octal numbers stored in sign-magnitude format? The result should be written in octal. Show your work.

    ??? success "答案"

        $(4365)_{10} = (100\_011\_110\_101)_2$

        $(3412)_{10} = (011\_100\_001\_010)_2$

        三个符号异或为 0，数值部分相加

        $$
        \ \ \ 00\_011\_110\_101\\
        +11\_100\_001\_010\\
        ————————\\
        \ \ \ 11\_111\_111\_111
        $$

        没有产生进位，符号与第一个运算数的符号相同，即 $(111\_111\_111\_111)_2 = (7777)_8$

